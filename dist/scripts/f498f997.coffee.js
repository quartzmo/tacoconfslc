!function(){var a,b,c,d,e;$.fn.serializeObject=function(){var a,b;return b={},a=this.serializeArray(),$.each(a,function(){return b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b},c=Backbone.Model.extend({validate:function(a){return a.name.length>1||a.email.length>1?void 0:"'name' and 'email' cannot both be blank"}}),d=Backbone.Collection.extend({model:c,url:"http://localhost:5000/subscribers"}),a=Backbone.View.extend({el:".avatars",initialize:function(){return this.listenTo(this.collection,"add",this.addSubscriber)},addSubscriber:function(a){var c;return c=new b({model:a}),this.$el.append(c.render().el),!0}}),b=Backbone.View.extend({className:"avatar",template:_.template("<img title=\"<%= get('name') %>\" alt=\"<%= get('name') %>\" src=\"http://2.gravatar.com/avatar/<%= get('email_hash') %>\">"),render:function(){return this.$el.html(this.template(this.model)),this}}),window.subscribers=e=new d,e.on("all",function(a,b,c){return console.log("Model '"+b.cid+"' triggered '"+a+"'. Collection length is "+c.length+".")}),$(function(){var b;return window.indexView=b=new a({collection:e}),e.fetch(),$('form button[type="submit"]').bind("click",function(a){var b;return a.preventDefault(),b=$(this).parent("form").serializeObject(),e.create(b,{wait:!0})})})}.call(this);